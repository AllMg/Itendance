<app-banniere></app-banniere>
<app-menu-centre></app-menu-centre>
<app-info-personnes></app-info-personnes>
<div class="container-fluid">
  <div class="col-sm-12 content_page">
    <div class="row titre_page2">
      <h4>Détails de la cotisation à transferer</h4>
    </div>
    <div class="col-sm-12" *ngIf="show">
      <div class="loader"></div>
      <br>
    </div>
    <div *ngIf="!show">
      <div class="row" *ngIf="dataTransfert">
        <div class="col-sm-1"></div>
        <div class="col-sm-3 texte-content">Etat dossier :</div>
        <div class="col-sm-7">
          <input type="text" class="form-control text-center" readonly="" value="{{dataTransfert.etat_libelle}}" style="font-weight: bold">
        </div>
        <div class="col-sm-1"></div>
      </div>
      <div class="row" *ngIf="dataTransfert">
        <div class="col-sm-12">
          <h4>
            <strong>Informations reçues</strong>
          </h4>
        </div>
      </div>
      <div class="row" *ngIf="dataTransfert">
        <div class="col-sm-1"></div>
        <div class="col-sm-3 texte-content">Matricule :</div>
        <div class="col-sm-7">
          <input type="text" class="form-control" readonly="" value="{{dataTransfert.matricule}}">
        </div>
        <div class="col-sm-1"></div>
      </div>
      <div class="row">
        <div class="col-sm-12"></div>
      </div>
      <div class="row" *ngIf="dataUser">
        <div class="col-sm-1"></div>
        <div class="col-sm-3 texte-content">Nom :</div>
        <div class="col-sm-7">
          <input type="text" class="form-control" readonly="" value="{{dataUser.nom}}">
        </div>
        <div class="col-sm-1"></div>
      </div>
      <div class="row">
        <div class="col-sm-12"></div>
      </div>
      <div class="row" *ngIf="dataUser">
        <div class="col-sm-1"></div>
        <div class="col-sm-3 texte-content">Prénom(s) :</div>
        <div class="col-sm-7">
          <input type="text" class="form-control" readonly="" value="{{dataUser.prenoms}}">
        </div>
        <div class="col-sm-1"></div>
      </div>
      <div class="row">
        <div class="col-sm-12"></div>
      </div>
      <div class="row" *ngIf="dataTransfert">
        <div class="col-sm-1"></div>
        <div class="col-sm-3 texte-content"> Référence du transfert :</div>
        <div class="col-sm-7">
          <input type="text" class="form-control" readonly="" value="{{dataTransfert.reference}}">
        </div>
        <div class="col-sm-1"></div>
      </div>
      <div class="row">
        <div class="col-sm-12"></div>
      </div>
      <div class="row" *ngIf="dataTransfert">
        <div class="col-sm-1"></div>
        <div class="col-sm-3 texte-content">Montant :</div>
        <div class="col-sm-7">
          <input type="text" class="form-control" readonly="" value="{{dataTransfert.montant | number:'1.2-10':'fr'}}">
        </div>
        <div class="col-sm-1"></div>
      </div>
      <div class="row">
        <div class="col-sm-12"></div>
      </div>
      <div class="row" *ngIf="dataTransfert">
        <div class="col-sm-1"></div>
        <div class="col-sm-3 texte-content">Date de réception :</div>
        <div class="col-sm-7">
          <input type="text" class="form-control" readonly="" value="{{dataTransfert.date_reception | date: 'dd/MM/yyyy'}}">
        </div>
        <div class="col-sm-1"></div>
      </div>
      <div class="row">
        <div class="col-sm-12"><br></div>
      </div>
      <div class="row" *ngIf="dataTransfertDN">
        <div class="col-sm-1"></div>
        <div class="col-sm-10">
          <table class="table table-striped table-bordered">
            <tr class="success">
              <td>Période</td>
              <td>Régime</td>
              <td>Salaire m1</td>
              <td>Salaire m2</td>
              <td>Salaire m3</td>
              <td>Salaire plafonné m1</td>
              <td>Salaire plafonné m2</td>
              <td>Salaire plafonné m3</td>
            </tr>
            <tr *ngFor="let dataTDn of dataTransfertDN; index as indice">
              <td>{{dataTDn.periode}}</td>
              <td>{{dataTDn.regime}}</td>
              <td class="text-right">{{dataTDn.salm1 | number:'1.2-10':'fr'}}</td>
              <td class="text-right">{{dataTDn.salm2 | number:'1.2-10':'fr'}}</td>
              <td class="text-right">{{dataTDn.salm3 | number:'1.2-10':'fr'}}</td>
              <td class="text-right">{{dataTDn.salm1 | number:'1.2-10':'fr'}}</td>
              <td class="text-right">{{dataTDn.salm2 | number:'1.2-10':'fr'}}</td>
              <td class="text-right">{{dataTDn.salm3 | number:'1.2-10':'fr'}}</td>
            </tr>
          </table>
        </div>
        <div class="col-sm-1"></div>
      </div>
      <div class="row" *ngIf="piecesRec">
        <div class="col-sm-12">
          <h4>
            <strong>Pièces reçues</strong>
          </h4>
        </div>
      </div>
      <ng-container *ngFor="let piecesRecues of piecesRec; index as indice">
        <div class="row">
          <div class="col-sm-1"></div>
          <div class="col-sm-3 texte-content">{{piecesRecues.name}} :</div>
          <div class="col-sm-7">
            <a data-toggle="modal" href="#pdf{{indice}}" class="fichier">
              <span class="fa fa-angle-double-right"></span>&nbsp;Voir le fichier
            </a>
          </div>
          <div class="col-sm-1"></div>
        </div>
        <div class="modal fade" id="pdf{{indice}}">
          <div class="modal-dialog modal-lg">
            <div class="modal-content">
              <div class="modal-header">
                <h4 class="modal-title">{{piecesRecues.name}}</h4>
                <button type="button" class="close" data-dismiss="modal">&times;</button>
              </div>
              <div class="modal-body" style="height: 700px; overflow-y: scroll; overflow-x: hidden">
                <pdf-viewer src="{{piecesRecues.file}}" [render-text]="true" style="display: block;"></pdf-viewer>
              </div>
            </div>
          </div>
        </div>
      </ng-container>
      <div class="row">
        <div class="col-sm-12">
          <hr>
        </div>
      </div>
      <div class="row" *ngIf="dataTransfert">
        <div class="col-sm-12" *ngIf="showBtn">
          <div class="loader"></div>
        </div>
        <div class="col-sm-6"></div>
        <div class="col-sm-2" *ngIf="!showBtn">
          <button class="btn btn-success btn-block" (click)="pieceNonConforme()" *ngIf="showBtnPiece">Pièce(s) non conforme</button>
        </div>
        <div class="col-sm-2" *ngIf="!showBtn">
          <button class="btn btn-danger btn-block" (click)="rejeter()" *ngIf="showBtnRejet">Rejeter</button>
        </div>
        <div class="col-sm-2" *ngIf="!showBtn">
          <button class="btn btn2 btn-block" (click)="valider()" *ngIf="showBtnValid">Valider</button>
        </div>
      </div>
      <div class="row">
        <div class="col-sm-12">
          <br>
        </div>
      </div>
    </div>
  </div>
</div>
<app-historique-indiv></app-historique-indiv>
<app-lien-foot></app-lien-foot>
