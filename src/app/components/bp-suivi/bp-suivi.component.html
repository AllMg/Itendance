<app-banniere></app-banniere>
<app-info-agents></app-info-agents>

<div class="container-fluid">
  <div class="col-sm-12 content_page">
    <div class="row titre_page">
      <h4>BUDGET DE PROGRAMME</h4>
    </div>

    <!-- MENU -->
    <div class="conteneur-de-menu">
      <ul class="menu1">
        <li (click)="clickInMenu1('bp-saisie')">
          <span>SAISIE</span>
        </li>
        <li>
          <span (click)="clickInMenu1('bp-elaboration')">ELABORATION</span>
        </li>
        <li class="menu1-active">
          <span>SUIVI</span>
        </li>
      </ul>
    </div>

    <div class="conteneur-de-menu2">
      <ul class="menu1">
        <li (click)="clickSousMenu('general')" [ngClass]="{'menu1-active': Menu.sousMenu == 'general'}">
          <span>BUDGET ANNUEL GENERAL</span>
        </li>
        <li (click)="clickSousMenu('service')" [ngClass]="{'menu1-active': Menu.sousMenu == 'service'}">
          <span>BUDGET ANNUEL PAR SERVICE</span>
        </li>
      </ul>
    </div>
    <!-- FIN MENU -->

    <!-- CONTENU -->
    <div class="row" style="padding: 10px;">

      <!-- GENERAL -->
      <div [ngClass]="{'invisible': Menu.sousMenu != 'general'}" class="col-md-12">
        <h6 style="text-transform: uppercase;">Suivi du budget annuel tout service cofondu</h6>
        <hr>
        <div class="form-group">
          <label>Exercice</label>
          <div class="input-group mb-3">
            <input type="number" min="1940" class="form-control" >
            <div class="input-group-append">
              <button (click)="chargerBudgetAnnuelGeneral()" class="btn btn-info">Charger</button>
            </div>
          </div>
        </div>
        <table class="table table-bordered">
          <thead class="thead-budget">
            <tr>
              <td colspan="2">RUBRIQUES</td>
              <td>PROJETS</td>
            </tr>
            <tr>
              <td>N° Compte</td>
              <td>Intitulé de Compte</td>
              <td class="td-projet">
                <span class="icon-btn"><i class="fa fa-caret-left"></i></span>
                <span>121</span>
                <span class="icon-btn"><i class="fa fa-caret-right"></i></span>
              </td>
            </tr>
          </thead>
          <!-- FONCTIONNEMENTS -->
          <tbody>
            <tr>
              <td (click)="clickCategorieFCT()" class="g-parent-compte" colspan="3">FONCTIONNEMENTS</td>
            </tr>
          </tbody>
          <tbody *ngFor="let parent of General.listeFCT; let indexP = index" [ngClass]="{'invisible': !General.visibleFCT}">
            <tr>
              <td (click)="clickParentFCT('General',indexP)" class="parent-compte" colspan="2">{{parent.numeroCompte+" - "+parent.libelleCompte}}</td>
              <td></td>
            </tr>
            <tr *ngFor="let enf of parent.enfants; let indexE = index" [ngClass]="{'invisible': parent.visible == false, 'ligne-gris': indexE%2 == 0}">
              <td class="enfant-compte">{{enf.numeroCompte}}</td>
              <td>{{enf.libelleCompte}}</td>
              <td></td>
            </tr>
          </tbody>
          <!-- FIN FONCTIONNEMENTS -->
          <!-- INVESTISSEMENT -->
          <tbody>
            <tr>
              <td (click)="clickCategorieINV()" class="g-parent-compte" colspan="3">INVESTISSEMENT</td>
            </tr>
          </tbody>
          <tbody *ngFor="let parent of General.listeINV; let indexP = index" [ngClass]="{'invisible': !General.visibleINV}">
            <tr>
              <td (click)="clickParentINV('General',indexP)" class="parent-compte" colspan="2">{{parent.numeroCompte+" - "+parent.libelleCompte}}</td>
              <td></td>
            </tr>
            <tr *ngFor="let enf of parent.enfants; let indexE = index" [ngClass]="{'invisible': parent.visible == false, 'ligne-gris': indexE%2 == 0}">
              <td class="enfant-compte">{{enf.numeroCompte}}</td>
              <td>{{enf.libelleCompte}}</td>
              <td></td>
            </tr>
          </tbody>
          <!-- FIN INVESTISSEMENT -->
          <!-- RECETTES -->
          <tbody>
            <tr>
              <td (click)="clickCategorieREC()" class="g-parent-compte" colspan="3">RECETTES</td>
            </tr>
          </tbody>
          <tbody *ngFor="let parent of General.listeREC; let indexP = index" [ngClass]="{'invisible': !General.visibleREC}">
            <tr>
              <td (click)="clickParentREC('General',indexP)" class="parent-compte" colspan="2">{{parent.numeroCompte+" - "+parent.libelleCompte}}</td>
              <td></td>
            </tr>
            <tr *ngFor="let enf of parent.enfants; let indexE = index" [ngClass]="{'invisible': parent.visible == false, 'ligne-gris': indexE%2 == 0}">
              <td class="enfant-compte">{{enf.numeroCompte}}</td>
              <td>{{enf.libelleCompte}}</td>
              <td></td>
            </tr>
          </tbody>
          <!-- FIN RECETTES -->
          <!-- DEPENSES -->
          <tbody>
            <tr>
              <td (click)="clickCategorieDEP()" class="g-parent-compte" colspan="3">DEPENSES</td>
            </tr>
          </tbody>
          <tbody [ngClass]="{'invisible': !General.visibleDEP}">
            <tr *ngFor="let dep of General.listeDEP; let index = index" [ngClass]="{'ligne-gris': index%2 == 0}">
              <td class="enfant-compte">{{dep.numeroCompte}}</td>
              <td>{{dep.libelleCompte}}</td>
              <td></td>
            </tr>
          </tbody>
          <!-- FIN DEPENSES -->
        </table>
      </div>

      <!-- SERVICE -->
      <div [ngClass]="{'invisible': Menu.sousMenu != 'service'}" class="col-md-12">
        <h6 style="text-transform: uppercase;">Suivi du budget annuel par service</h6>
        <hr>
      </div>

    </div>
    
    <!-- MODAL -->
    <!-- MODAL CHARGEMENT -->
    <div #modalChargement class="modal" data-backdrop="static" data-keyboard="false" tabindex="-1" role="dialog">
      <div class="modal-dialog modal-sm modal-dialog-centered" role="document">
      <div class="loader">
      </div>
      </div>
    </div>

  </div>
</div>

<app-historique-indiv></app-historique-indiv>
<app-lien-foot></app-lien-foot>